@use "sass:math";

@import "bootstrap/scss/bootstrap";

@import "color";
@import "variables";

article {
	max-width: 60em;
	margin: 0 auto;
	padding: 0.25em 0.5em;
	border: 1px solid navy;

	aside {
		@include left-chevron(var(--charcoal));
		background-color: var(--charcoal-bg);

		margin: {
			left: 1em;
			right: 2em;
			bottom: 1em;
		}

		padding: {
			top: 1em;
			left: 1em;
			right: 1em;
			bottom: 1em;
		}

		:last-child {
			margin-bottom: 0;
		}
	}
}

h1,
h2,
h3,
h4,
h5,
h6 {
	color: inherit;
}

.title {
	text-align: center;
}

.img {
	padding: 4px 8px;
	max-width: 100%;
}

.portrait {
	@media all and (max-width: 500px) {
		max-width: 75%;
		display: grid;
		align-self: center;
	}

	@media all and (min-width: 500px) {
		max-width: 250px;
	}
}

.float-left {
	float: left;
	margin-right: 1em;
}

.float-right {
	float: right;
	margin-left: 1em;
}

.clearfix {
	clear: both;
}

@include media-breakpoint-up(md) {
	.portrait {
		float: right;
		margin-left: 1em;
	}

	// #formal {
	// }

	#casual {
		position: relative;
		top: -3em;
	}
}

@include media-breakpoint-down(lg) {
	#signature {
		max-width: 100%;
	}
}

#img-gallery {
	padding: 0;
	margin: 0;

	div {
		background-size: 100% 100%;
		background-repeat: no-repeat;
		display: inline-block;
	}
}

$inblpad: 4px;

#klaus-lamp {
	background-image: url("/static/images/klaus/lamp.png");
}

#klaus-clock {
	background-image: url("/static/images/klaus/clock.jpg");
}

#klaus-logos {
	background-image: url("/static/images/klaus/logos.jpg");
}

$width-thin: 22.6;
$width-thick: 54.8;

@media all and (min-width: 60em) {

	#klaus-lamp,
	#klaus-clock {
		height: calc((#{$width-thin} * 60em / 100 - #{$inblpad}) * 1.37686567164179);
		width: calc(#{$width-thin}% - #{$inblpad});
	}

	#klaus-logos {
		height: calc((#{math.div($width-thick, 100)} * 60em - #{$inblpad}) * 0.563);
		width: calc(#{$width-thick}% - #{$inblpad});
	}
}

@media all and (min-width: 600px) and (max-width: 60em) {
	#klaus-lamp {
		height: calc(calc(#{$width-thin}vw - #{$inblpad}) * 1.37686567164179);
		width: calc(#{$width-thin}% - #{$inblpad});
	}

	#klaus-clock {
		height: calc(calc(#{$width-thin}vw - #{$inblpad}) * 1.37686567164179);
		width: calc(#{$width-thin}% - #{$inblpad});
	}

	#klaus-logos {
		height: calc(calc(#{$width-thick}vw - #{$inblpad}) * 0.563);
		width: calc(#{$width-thick}% - #{$inblpad});
	}
}

@media all and (max-width: 599px) {
	#klaus-lamp {
		height: calc(calc(50vw - #{$inblpad}) * 1.37686567164179);
		width: calc(50% - #{$inblpad});
	}

	#klaus-clock {
		height: calc(calc(50vw - #{$inblpad}) * 1.37686567164179);
		width: calc(50% - #{$inblpad});
	}

	#klaus-logos {
		height: calc(calc(100vw - #{$inblpad}) * 0.563);
		width: 100%;
	}
}

.small-caps {
	font-variant: small-caps;
}

@media screen and (max-width: 599px) {
	.img {
		float: none;
		clear: both;
		margin: 0 auto;
	}
}

@include media-breakpoint-up(lg) {
	@media only screen and (min-height: 800px) {

		body:not(.hide-panels) #flex-focus,
		body #flex-focus {
			height: 100%;
		}

		main {
			overflow-y: auto;
			height: inherit;
		}
	}
}
